<div class="masterdata-table-wrapper">
	<div class="mb-4">
		<ng-container *ngIf="masterdataType$ | async as masterdataType">
			<h3>
				{{ masterdataType?.name }}
				<small>({{ masterdataType?.masterdatasCount }})</small>
			</h3>
			<div class="masterdata-table-toolbar p-fluid">
				<div class="masterdata-table-toolbar-item">
					<lens-button
						[label]="'masterdatamgmt.pages.masterdataList.buttons.btnAddNew' | translate"
						icon="pi pi-plus"
						type="success"
						[disabled]="isLoading"
						(clicked)="onAddAction()">
					</lens-button>
				</div>
				<div class="masterdata-table-toolbar-item">
					<masterdata-tags-selector
						id="tags"
						[(ngModel)]="tagsSelected"
						[tags]="tagsList"
						(tagsChanged)="onTagsChangedFilter($event)"
						[allowAddNewTag]="false"
						[placeholder]="'masterdatamgmt.pages.masterdataList.tagsSelector.placeholder' | translate">
					</masterdata-tags-selector>
				</div>
			</div>
		</ng-container>
	</div>
	<lens-table
		[source]="items"
		[totalRecords]="totalSize"
		(lazyLoad)="onLazyLoadData($event)"
		(rowDblClick)="onRowClicked($event)"
		[loading]="isLoading"
		#table>
		<columns>
			<column
				[label]="'masterdatamgmt.pages.masterdataList.tableColumns.key' | translate"
				field="key">
			</column>
			<column
				[label]="'masterdatamgmt.pages.masterdataList.tableColumns.value' | translate"
				field="value">
			</column>
			<column
				[label]="'masterdatamgmt.pages.masterdataList.tableColumns.name' | translate"
				field="name">
			</column>
			<column
				[label]="'masterdatamgmt.pages.masterdataList.tableColumns.description' | translate"
				field="description">
			</column>
			<column
				[label]="'masterdatamgmt.pages.masterdataList.tableColumns.tags' | translate"
				field="tags">
			</column>
			<row-actions>
				<action
					icon="pi pi-pencil"
					[label]="'masterdatamgmt.pages.masterdataList.buttons.btnEdit' | translate"
					(clicked)="onEditActionClicked($event)">
				</action>
				<action
					icon="pi pi-trash"
					[label]="'masterdatamgmt.pages.masterdataList.buttons.btnDelete' | translate"
					(clicked)="onDeleteActionClicked($event)">
				</action>
			</row-actions>
		</columns>
	</lens-table>
</div>
