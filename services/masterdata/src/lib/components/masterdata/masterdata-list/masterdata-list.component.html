<div class="masterdata-table-wrapper">
	<div class="mb-4">
		<ng-container *ngIf="masterdataType$ | async as masterdataType">
			<h3>
				{{ masterdataType?.name }}
				<small>({{ masterdataType?.masterdatasCount }})</small>
			</h3>
			
		</ng-container>
		<div class="masterdata-table-toolbar p-fluid">
			<div class="masterdata-table-toolbar-item">
				<lens-button
					[label]="
						'masterdatamgmt.pages.masterdataList.buttons.btnAddNew'
							| translate
					"
					icon="pi pi-plus"
					type="success"
					[disabled]="isLoading"
					(clicked)="onAddAction()"></lens-button>
			</div>
			<div class="masterdata-table-toolbar-item">
				<lens-autocomplete-tags
					[options]="tagsList"
					[dropdown]="false"
					[multiple]="true"
					formControlName="tags"
					[placeholder]="'masterdatamgmt.pages.masterdataList.tagsSelector.placeholder' | translate"
					(inputValuesChanged)="onTagsChangedFilter($event)"
					separator=",">
				</lens-autocomplete-tags>
			</div>
		</div>
	</div>
	<lens-table
		[source]="items"
		[totalRecords]="totalSize"
		(lazyLoad)="onLazyLoadData($event)"
		(rowDblClick)="onRowClicked($event)"
		[loading]="isLoading"
		#table>
		<columns>
			<column
				[label]="
					'masterdatamgmt.pages.masterdataList.tableColumns.key' | translate
				"
				field="key"></column>
			<column
				[label]="
					'masterdatamgmt.pages.masterdataList.tableColumns.value' | translate
				"
				field="value"></column>
			<column
				[label]="
					'masterdatamgmt.pages.masterdataList.tableColumns.name' | translate
				"
				field="name"></column>
			<column
				[label]="
					'masterdatamgmt.pages.masterdataList.tableColumns.description'
						| translate
				"
				field="description"></column>
			<column
				[label]="
					'masterdatamgmt.pages.masterdataList.tableColumns.tags' | translate
				"
				field="tags"></column>
			<column
				[label]="
					'masterdatamgmt.pages.masterdataList.tableColumns.count' | translate
				"
				field="masterdataKeysCount"></column>
		</columns>
		<row-actions>
			<action
				icon="pi pi-pencil"
				translationKey="masterdatamgmt.pages.masterdataList.buttons.btnEdit"
				(clicked)="onEditActionClicked($event)"></action>
			<action
				icon="pi pi-trash"
				translationKey="masterdatamgmt.pages.masterdataList.buttons.btnDelete"
				(clicked)="onDeleteActionClicked($event)"></action>
		</row-actions>
	</lens-table>
</div>
